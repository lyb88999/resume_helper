# Generated with protoc-gen-openapi
# https://github.com/google/gnostic/tree/master/cmd/protoc-gen-openapi

openapi: 3.0.3
info:
    title: AIService API
    description: AI服务接口
    version: 0.0.1
paths:
    /api/v1/ai/analyze:
        post:
            tags:
                - AIService
            description: 分析简历
            operationId: AIService_AnalyzeResume
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ai.v1.AnalyzeResumeRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ai.v1.AnalyzeResumeResponse'
    /api/v1/ai/chat:
        post:
            tags:
                - AIService
            description: 智能问答
            operationId: AIService_Chat
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ai.v1.ChatRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ai.v1.ChatResponse'
    /api/v1/ai/health:
        get:
            tags:
                - AIService
            description: 健康检查
            operationId: AIService_Health
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ai.v1.HealthResponse'
    /api/v1/ai/knowledge/retrieve:
        post:
            tags:
                - AIService
            description: 知识检索
            operationId: AIService_RetrieveKnowledge
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ai.v1.RetrieveKnowledgeRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ai.v1.RetrieveKnowledgeResponse'
    /api/v1/ai/suggestions:
        post:
            tags:
                - AIService
            description: 生成优化建议
            operationId: AIService_GenerateSuggestions
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ai.v1.GenerateSuggestionsRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ai.v1.GenerateSuggestionsResponse'
components:
    schemas:
        ai.v1.AnalysisOptions:
            type: object
            properties:
                enableCompleteness:
                    type: boolean
                enableClarity:
                    type: boolean
                enableKeyword:
                    type: boolean
                enableFormat:
                    type: boolean
                enableQuantification:
                    type: boolean
            description: 分析选项
        ai.v1.AnalysisResult:
            type: object
            properties:
                sections:
                    type: object
                    additionalProperties:
                        $ref: '#/components/schemas/ai.v1.Section'
                suggestions:
                    type: array
                    items:
                        $ref: '#/components/schemas/ai.v1.Suggestion'
                scores:
                    $ref: '#/components/schemas/ai.v1.ScoreBreakdown'
                improvements:
                    type: array
                    items:
                        $ref: '#/components/schemas/ai.v1.Improvement'
                summary:
                    type: string
            description: 分析结果
        ai.v1.AnalyzeResumeRequest:
            type: object
            properties:
                resumeId:
                    type: string
                content:
                    type: string
                fileType:
                    type: string
                targetPosition:
                    type: string
                options:
                    $ref: '#/components/schemas/ai.v1.AnalysisOptions'
            description: 分析简历请求
        ai.v1.AnalyzeResumeResponse:
            type: object
            properties:
                analysisId:
                    type: string
                result:
                    $ref: '#/components/schemas/ai.v1.AnalysisResult'
                status:
                    type: string
                message:
                    type: string
            description: 分析简历响应
        ai.v1.ChatOptions:
            type: object
            properties:
                useResumeContext:
                    type: boolean
                useKnowledgeBase:
                    type: boolean
                language:
                    type: string
            description: 聊天选项
        ai.v1.ChatRequest:
            type: object
            properties:
                sessionId:
                    type: string
                message:
                    type: string
                context:
                    type: string
                options:
                    $ref: '#/components/schemas/ai.v1.ChatOptions'
            description: 智能问答请求
        ai.v1.ChatResponse:
            type: object
            properties:
                response:
                    type: string
                sessionId:
                    type: string
                sources:
                    type: array
                    items:
                        type: string
                status:
                    type: string
                message:
                    type: string
            description: 智能问答响应
        ai.v1.GenerateSuggestionsRequest:
            type: object
            properties:
                analysisId:
                    type: string
                analysisResult:
                    $ref: '#/components/schemas/ai.v1.AnalysisResult'
                targetPosition:
                    type: string
                industry:
                    type: string
                options:
                    $ref: '#/components/schemas/ai.v1.SuggestionOptions'
            description: 生成建议请求
        ai.v1.GenerateSuggestionsResponse:
            type: object
            properties:
                suggestions:
                    type: array
                    items:
                        $ref: '#/components/schemas/ai.v1.Suggestion'
                reasoning:
                    type: string
                status:
                    type: string
                message:
                    type: string
            description: 生成建议响应
        ai.v1.HealthResponse:
            type: object
            properties:
                status:
                    type: string
                version:
                    type: string
                components:
                    type: object
                    additionalProperties:
                        type: string
            description: 健康检查响应
        ai.v1.Improvement:
            type: object
            properties:
                type:
                    type: string
                description:
                    type: string
                priority:
                    type: string
                section:
                    type: string
                before:
                    type: string
                after:
                    type: string
                examples:
                    type: array
                    items:
                        type: string
            description: 改进建议
        ai.v1.Issue:
            type: object
            properties:
                type:
                    type: string
                description:
                    type: string
                severity:
                    type: string
                suggestion:
                    type: string
            description: 问题
        ai.v1.KnowledgeItem:
            type: object
            properties:
                id:
                    type: string
                title:
                    type: string
                content:
                    type: string
                score:
                    type: number
                    format: float
                metadata:
                    type: object
                    additionalProperties:
                        type: string
            description: 知识条目
        ai.v1.RetrieveKnowledgeRequest:
            type: object
            properties:
                query:
                    type: string
                topK:
                    type: integer
                    format: int32
                similarityThreshold:
                    type: number
                    format: float
                filters:
                    type: array
                    items:
                        type: string
            description: 知识检索请求
        ai.v1.RetrieveKnowledgeResponse:
            type: object
            properties:
                items:
                    type: array
                    items:
                        $ref: '#/components/schemas/ai.v1.KnowledgeItem'
                status:
                    type: string
                message:
                    type: string
            description: 知识检索响应
        ai.v1.ScoreBreakdown:
            type: object
            properties:
                overallScore:
                    type: number
                    format: float
                completenessScore:
                    type: number
                    format: float
                clarityScore:
                    type: number
                    format: float
                keywordScore:
                    type: number
                    format: float
                formatScore:
                    type: number
                    format: float
                quantificationScore:
                    type: number
                    format: float
                dimensionScores:
                    type: object
                    additionalProperties:
                        type: number
                        format: float
            description: 评分详情
        ai.v1.Section:
            type: object
            properties:
                content:
                    type: string
                extractedInfo:
                    type: string
                qualityScore:
                    type: number
                    format: float
                issues:
                    type: array
                    items:
                        $ref: '#/components/schemas/ai.v1.Issue'
            description: 简历章节
        ai.v1.Suggestion:
            type: object
            properties:
                id:
                    type: string
                type:
                    type: string
                title:
                    type: string
                description:
                    type: string
                priority:
                    type: string
                section:
                    type: string
                action:
                    type: string
            description: 建议
        ai.v1.SuggestionOptions:
            type: object
            properties:
                maxSuggestions:
                    type: integer
                    format: int32
                focusArea:
                    type: string
                experienceLevel:
                    type: string
            description: 建议选项
tags:
    - name: AIService
